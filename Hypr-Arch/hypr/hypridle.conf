general {
  # This is the “clean” model:
  # everyone calls loginctl lock-session,
  # and hypridle makes that show hyprlock.
  lock_cmd = pidof hyprlock || hyprlock

  # Always lock before suspend (whether you suspend manually or via idle)
  before_sleep_cmd = loginctl lock-session

  # Bring screens back on after wake
  after_sleep_cmd = hyprctl dispatch dpms on

  inhibit_sleep = 2
}

# 10 min -> DPMS off
listener {
  timeout = 600
  on-timeout = hyprctl dispatch dpms off
  on-resume  = hyprctl dispatch dpms on
}

# 15 min -> lock
listener {
  timeout = 900
  on-timeout = loginctl lock-session
}

# 20 min -> suspend (before_sleep_cmd locks first)
listener {
  timeout = 1200
  on-timeout = systemctl suspend
}

